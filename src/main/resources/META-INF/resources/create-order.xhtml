<!DOCTYPE html>
<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:p="http://primefaces.org/ui"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
>
  <h:head>
    <title>Criar Pedido</title>
  </h:head>
  <h:body>
    <h:form>
      <p:panel header="Novo Pedido">
        <p:outputLabel value="User ID:" for="userId" />
        <p:inputText
          id="userId"
          value="#{createOrderBean.cart.userId}"
          required="true"
        />

        <p:outputLabel value="Data:" for="date" />
        <p:inputText
          id="date"
          value="#{createOrderBean.cart.date}"
          required="true"
          placeholder="2024-06-20T00:00:00.000Z"
        />

        <p:fieldset legend="Adicionar Produto">
          <p:inputText
            placeholder="ID"
            value="#{createOrderBean.newProduct.id}"
          />
          <p:inputText
            placeholder="Título"
            value="#{createOrderBean.newProduct.title}"
          />
          <p:inputText
            placeholder="Preço"
            value="#{createOrderBean.newProduct.price}"
          />
          <p:inputText
            placeholder="Quantidade"
            value="#{createOrderBean.newProduct.quantity}"
          />
          <p:commandButton
            value="Adicionar Produto"
            action="#{createOrderBean.addProduct}"
            update="@form"
          />
        </p:fieldset>

        <p:dataTable value="#{createOrderBean.cart.products}" var="p">
          <p:column headerText="ID">#{p.id}</p:column>
          <p:column headerText="Título">#{p.title}</p:column>
          <p:column headerText="Preço">#{p.price}</p:column>
          <p:column headerText="Quantidade">#{p.quantity}</p:column>
        </p:dataTable>

        <p:commandButton
          value="Criar Pedido"
          action="#{createOrderBean.createOrder}"
          update="@form"
          styleClass="ui-button-success"
        />
      </p:panel>
    </h:form>
  </h:body>
</html>
